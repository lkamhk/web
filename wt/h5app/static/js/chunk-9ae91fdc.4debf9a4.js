(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ae91fdc"],{"0ec9":function(t,e,s){"use strict";s("a246")},"353b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAAA6CAYAAAD7q2jjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlCRTJCRUFCODc4NjExRUU5NTg3REJBOTExNDNDNTQ4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlCRTJCRUFDODc4NjExRUU5NTg3REJBOTExNDNDNTQ4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUJFMkJFQTk4Nzg2MTFFRTk1ODdEQkE5MTE0M0M1NDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUJFMkJFQUE4Nzg2MTFFRTk1ODdEQkE5MTE0M0M1NDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz67Ox+4AAABcElEQVR42uzdMS8DcRzH4VaabsImZjEaGEx2s5iNNjEZvAaREPE27GJnMJhs3oDEgEWKcH5DJXI5bf7J/aN3nif5Lm1quPvkchpx3aIoOtAGUw4BYgYxg5hhpN5vbyzuPTk6/Lm7w1lXZlyZy+Ziqw4TmfRj27GFivc2Yrd1xvwQO3fMyegidhRbLr3+WveV+XM4yOU9thM7ia38eL2oLeaUG29IVfqCYRDbrQg6iV8AmRTfQd+ImX8fdM/xY0KD7ouZtgQ9SP1Q15+A0hbumREziBnEDGJGzCBmEDOIGcSMmEHMIGYQM2IGMYOYQcwgZsQMYgYxg5gRM4gZxAxiBjHTPh6dRi0m4UkLrsy0/8o8tBY7dpgoOYsdxD6aFDNU2YzNx/ZjLzlvS1NuX8bFPBObdu6osB5bip3GcpR82Un87/njYr6KbTlvjPAcu8/wc9/qvs14jF07XzSBZ5rQGr6aQ8wgZhAziBkxQ7N8CTAA00A5ByAn8i0AAAAASUVORK5CYII="},"3bdc":function(t,e,s){t.exports=s.p+"static/img/big_bg.fa62dd53.png"},"5fa9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Site IndexBox"},[e("div",{staticClass:"ScrollBox wrapper"},[e("div",{staticClass:"full-bg-img-2"}),e("Header"),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]},[e("van-overlay",{attrs:{show:!0}},[e("div",{staticClass:"loading-wrapper"},[e("van-loading",{staticClass:"loading",attrs:{type:"spinner",size:"50px",color:"#fff",vertical:""}})],1)])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}]},[e("div",{staticClass:"btn-row flex flex-center relative"},[e("div",{staticClass:"btn-box"},[e("div",{class:{btn:!0,"btn-selected":t.contentToggle},attrs:{id:"merchatBtn"}},[t._v(" 商户统计 ")])])])]),e("div",[e("div",{staticClass:"display-row-wrapper"},[e("div",{staticClass:"display-row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"col1-top"},[t._m(0),e("div",{staticClass:"col-btm"},[e("img",{attrs:{src:s("3bdc"),alt:""}}),t.merchantData?e("span",{staticStyle:{"z-index":"20",display:"inline-block","margin-left":"12px"}},[e("PieChart",{attrs:{percentProps:Number(t.merchantData.list[t.selectedMc].ordersCmp)}})],1):t._e(),e("span",{staticStyle:{"z-index":"20",display:"inline-flex",width:"95px",overflow:"hidden","margin-left":"6px"}},[t._v(" "+t._s(t.merchantData.list[t.selectedMc].ordersNum)+"单")])])])]),e("div",{staticClass:"col"},[t._m(1),e("div",{staticClass:"col-btm"},[t.merchantData?e("span",{staticStyle:{"z-index":"20",display:"inline-block","margin-left":"12px"}},[e("PieChart",{attrs:{percentProps:t.merchantData.list[t.selectedMc].successCmp}})],1):t._e(),t.merchantData?e("span",{staticStyle:{"z-index":"20",display:"inline-flex",width:"95px","margin-left":"6px"}},[t._v(" ₹ "+t._s(t.merchantData.list[t.selectedMc].successAmount||0))]):t._e(),e("img",{staticStyle:{"z-index":"10"},attrs:{src:s("3bdc"),alt:""}})])])]),e("van-popup",{style:{height:"50%"},attrs:{position:"bottom"},model:{value:t.openMerchantList,callback:function(e){t.openMerchantList=e},expression:"openMerchantList"}},[e("div",{staticClass:"merchant-picker"},[e("van-picker",{attrs:{title:"商户選單","show-toolbar":"",columns:t.MerchantList},on:{confirm:t.onConfirmMc,cancel:function(e){t.openMerchantList=!1}}})],1)]),e("div",{staticClass:"chart-row"},[e("div",{staticClass:"chart-unit ="},[t._v("单位:件")]),e("div",{staticClass:"channel-list"},[e("div",{staticClass:"mc-list-p-wrp",on:{click:function(e){t.openMerchantList=!0}}},[e("p",{staticClass:"mc-list-p"},[t._v(" "+t._s(t.MerchantList[t.selectedMc].text)+" ")]),e("van-icon",{attrs:{name:"arrow-down",color:"rgba(255,255,255,0.2)"}})],1)]),e("div",{ref:"chart",staticClass:"chart-wrapper",on:{touchstart:t.handleDragToChMcStart,touchmove:t.handleDragToChMc,touchend:function(e){t.isSwiping=!1}}})])],1)])],1),e("BottomNav")],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"display-img-box"},[e("img",{staticClass:"display-img",attrs:{src:s("353b"),alt:""}}),e("span",{staticClass:"display-title"},[t._v("订单总数")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"display-img-box display-img-box-adjust"},[e("img",{staticClass:"display-img",attrs:{src:s("353b"),alt:""}}),e("div",{staticClass:"display-title"},[t._v("成功金额")])])}],c=s("313e"),n=(s("c1df"),s("7f45")),r=s.n(n),o={name:"StatisticsMc",components:{},props:[],data(){return{isLoading:!1,openChannelList:!1,openMerchantList:!1,selectedCh:0,selectedMc:0,isSwiping:!1,touchStartX:0,deltaX:0,MerchantList:[{text:"test",value:1}],merchantData:{id:"656fe5cdfbb9c918f8a65a9d",dataTime:999999,list:[{merchantNo:"string",merchantName:"string",successAmount:9999,successCmp:23,ordersNum:9999,ordersCmp:66,rateArr:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],numArr:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],successArr:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},{merchantNo:"string2",merchantName:"string123",successAmount:9999,successCmp:23,ordersNum:9999,ordersCmp:66,rateArr:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],numArr:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],successArr:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]}],userNo:"88888888",requestNo:"1234",created:"2023-12-06T11:09:01.334"},contentToggle:!0,chartVisible:!0,mcTimer:null,chTimer:null,echartsOptions:{grid:{top:"20%",left:"15%",right:"15%",bottom:"20%"},legend:[{itemWidth:20,itemHeight:4,bottom:15,left:"center",data:[{name:"订单",textStyle:{color:"#035fc2"}},{name:"成功订单",textStyle:{color:"#f56c59"}},{name:"成功率",textStyle:{color:"#4ace69"}}]}],xAxis:{type:"category",data:[],axisLabel:{interval:1,show:!0},axisLine:{show:!1,lineStyle:{color:"#fbffff",fontSize:"8px"}},splitLine:{lineStyle:{color:["#707592"]}}},yAxis:[{type:"value",axisLine:{show:!1,lineStyle:{color:"#707592"}}},{type:"value",axisLabel:{show:!0,formatter:"{value} %"},axisLine:{show:!1,lineStyle:{color:"translate"}}}],textStyle:{color:"white"},series:[{name:"订单",type:"bar",data:[],itemStyle:{color:new c["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#00bef9"},{offset:.25,color:"#0076ea"},{offset:.5,color:"#035fc2"},{offset:1,color:"#0f336f"}])}},{name:"成功订单",type:"bar",data:[],itemStyle:{color:new c["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#fe8e80"},{offset:.25,color:"#ff7e6a"},{offset:.5,color:"#f56c59"},{offset:1,color:"#ec5f44"}])}},{name:"成功率",data:[],yAxisIndex:1,smooth:!0,type:"line",itemStyle:{color:new c["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#73f020"},{offset:.01,color:"#12b028"},{offset:.5,color:"#4ace69"},{offset:1,color:"#57c981"}])}}]}}},computed:{},watch:{},created(){this.isLoading=!0,this.selectedMc=0;new c["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#00bef9"},{offset:.25,color:"#0076ea"},{offset:.5,color:"#035fc2"},{offset:1,color:"#0f336f"}]),new c["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#fe8e80"},{offset:.25,color:"#ff7e6a"},{offset:.5,color:"#f56c59"},{offset:1,color:"#ec5f44"}]),new c["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:"#73f020"},{offset:.01,color:"#12b028"},{offset:.5,color:"#4ace69"},{offset:1,color:"#57c981"}])},mounted(){this.getStatisticsData()},activated(){},destroyed(){clearInterval(this.mcTimer)},beforeDestroy(){},methods:{get10minNow(t){this.echartsOptions.xAxis.data=this.generateTimeArray(t)},generateTimeArray(t){t=t-72e5-18e5;var e=r()(t).utcOffset("+05:30").toDate();let s=e.getHours(),a=e.getMinutes(),i=[];for(let c=0;c<10;c++){let t=a-9+c,e=s;t<0&&(t+=60,e-=1,e<0&&(e+=24));const n=e.toString().padStart(2,"0"),r=t<10?"0"+t:t.toString(),o=`${n}:${r}`;i.push(o)}return i},handleDragToChMcStart(t){t.preventDefault(),this.isSwiping||(this.touchStartX=t.touches[0].clientX)},handleDragToChMc(t){let e=this.MerchantList.length-1,s=this.selectedMc===e?0:this.selectedMc+1;t.preventDefault(),this.isSwiping||(this.isSwiping=!0,this.deltaX=t.touches[0].clientX-this.touchStartX,Math.abs(this.deltaX)>3&&(this.echartsOptions.series[0].data=this.merchantData.list[s].numArr,this.echartsOptions.series[1].data=this.merchantData.list[s].successArr,this.echartsOptions.series[2].data=this.merchantData.list[s].rateArr,this.get10minNow(this.merchantData.dataTime),this.chartInstance.setOption(this.echartsOptions),this.selectedMc=s),this.deltaX=0)},handleChangeMerchant(t){this.echartsOptions.series[0].data=this.merchantData.list[t].numArr,this.echartsOptions.series[1].data=this.merchantData.list[t].successArr,this.echartsOptions.series[2].data=this.merchantData.list[t].rateArr,this.get10minNow(this.merchantData.dataTime),this.$nextTick(()=>{this.chartInstance.setOption(this.echartsOptions)})},initBarChart(){this.chartInstance=c["init"](this.$refs.chart),this.chartInstance.setOption(this.echartsOptions)},contentToggleFn(){this.contentToggle?(clearInterval(this.mcTimer),this.pieChartInstance&&(this.pieChartInstance.dispose(),this.bnlChartInstance.dispose()),this.chartInstance=c["init"](this.$refs.chart),this.chartInstance.setOption(this.echartsOptions),this.mcTimer=setInterval(()=>{let t=(new Date).getSeconds();0===t&&(this.getStatisticsData(),this.handleChangeMerchant(this.selectedMc))},1e3)):(clearInterval(this.chTimer),this.chartInstance&&this.chartInstance.dispose(),this.getChannelData(),this.initBnlChart(),this.chTimer=setInterval(()=>{let t=(new Date).getSeconds();0===t&&this.getChannelData()},1e3))},onConfirmMc(t,e){this.selectedMc=e,this.handleChangeMerchant(e),this.openMerchantList=!1},onChangeMc(t,e){},onChangeCh(t,e){},onConfirmCh(t,e){this.selectedCh=e,this.handleChangeChannels(e),this.openChannelList=!1},getStatisticsData(){this.$Model.getMerchant(t=>{200==t.code?(this.isLoading=!1,this.merchantData=t.data,this.MerchantList=this.merchantData.list.map(t=>{let e={};return e["text"]=t.merchantName,e["value"]=t.merchantNo,e}),this.echartsOptions.series[0].data=this.merchantData.list[this.selectedMc].numArr,this.echartsOptions.series[1].data=this.merchantData.list[this.selectedMc].successArr,this.echartsOptions.series[2].data=this.merchantData.list[this.selectedMc].rateArr,this.get10minNow(this.merchantData.dataTime),this.initBarChart(),clearInterval(this.mcTimer),this.mcTimer=setInterval(()=>{let t=(new Date).getSeconds();0===t&&this.getStatisticsData()},1e3)):this.$Dialog.Toast(t.msg)})}}},l=o,h=(s("0ec9"),s("a164"),s("2877")),d=Object(h["a"])(l,a,i,!1,null,"6412ab82",null);e["default"]=d.exports},a164:function(t,e,s){"use strict";s("affa")},a246:function(t,e,s){},affa:function(t,e,s){}}]);